{"ast":null,"code":"import _objectSpread from \"/Users/hristuknadya/git/hypeauditor-proto/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"/Users/hristuknadya/git/hypeauditor-proto/src/pages/ReportHistory.js\";\n\n/* eslint-disable */\nimport React, { Component } from 'react';\nimport queryString from 'query-string';\nimport ArticleList from '../components/ArticleList';\nimport CategorySelector from '../components/CategorySelector';\nimport * as articleAPI from '../services/articles-api';\nconst categories = [{\n  value: 'health',\n  label: 'Health'\n}, {\n  value: 'technology',\n  label: 'Technology'\n}, {\n  value: 'sports',\n  label: 'Sports'\n}];\nexport default class ArticlesPage extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      items: []\n    };\n\n    this.handleCategoryChange = opt => {\n      if (opt) {\n        return this.props.history.push(_objectSpread({}, this.props.location, {\n          search: \"category=\".concat(opt.value)\n        }));\n      }\n\n      this.props.history.push(_objectSpread({}, this.props.location, {\n        search: ''\n      }));\n    };\n  }\n\n  componentDidMount() {\n    const location = this.props.location;\n    const category = getCategoryFromLocation(location);\n    articleAPI.fetchArticles(category).then(items => this.setState({\n      items\n    }));\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const prevCategory = getCategoryFromLocation(prevProps.location);\n    const nextCategory = getCategoryFromLocation(this.props.location); // console.log('prevCategory: ', prevCategory);\n    // console.log('nextCategory: ', nextCategory);\n\n    if (prevCategory !== nextCategory) {\n      articleAPI.fetchArticles(nextCategory).then(items => this.setState({\n        items\n      }));\n    }\n  }\n\n  render() {\n    const items = this.state.items;\n    const location = this.props.location;\n    const qsCategory = getCategoryFromLocation(location);\n    const selectedCategory = getCategoryWithValue(categories, qsCategory);\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, \"Articles Page\"), React.createElement(CategorySelector, {\n      options: categories,\n      value: selectedCategory,\n      onChange: this.handleCategoryChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }), React.createElement(ArticleList, {\n      items: items,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }));\n  }\n\n}","map":{"version":3,"sources":["/Users/hristuknadya/git/hypeauditor-proto/src/pages/ReportHistory.js"],"names":["React","Component","queryString","ArticleList","CategorySelector","articleAPI","categories","value","label","ArticlesPage","state","items","handleCategoryChange","opt","props","history","push","location","search","componentDidMount","category","getCategoryFromLocation","fetchArticles","then","setState","componentDidUpdate","prevProps","prevState","prevCategory","nextCategory","render","qsCategory","selectedCategory","getCategoryWithValue"],"mappings":";;;AAAA;AACA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,WAAP,MAAwB,cAAxB;AACA,OAAOC,WAAP,MAAwB,2BAAxB;AACA,OAAOC,gBAAP,MAA6B,gCAA7B;AACA,OAAO,KAAKC,UAAZ,MAA4B,0BAA5B;AAEA,MAAMC,UAAU,GAAG,CACjB;AACEC,EAAAA,KAAK,EAAE,QADT;AAEEC,EAAAA,KAAK,EAAE;AAFT,CADiB,EAKjB;AACED,EAAAA,KAAK,EAAE,YADT;AAEEC,EAAAA,KAAK,EAAE;AAFT,CALiB,EASjB;AACED,EAAAA,KAAK,EAAE,QADT;AAEEC,EAAAA,KAAK,EAAE;AAFT,CATiB,CAAnB;AAiBA,eAAe,MAAMC,YAAN,SAA2BR,SAA3B,CAAqC;AAAA;AAAA;AAAA,SAClDS,KADkD,GAC1C;AAAEC,MAAAA,KAAK,EAAE;AAAT,KAD0C;;AAAA,SAwBlDC,oBAxBkD,GAwB3BC,GAAG,IAAI;AAC5B,UAAIA,GAAJ,EAAS;AACP,eAAO,KAAKC,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,mBACF,KAAKF,KAAL,CAAWG,QADT;AAELC,UAAAA,MAAM,qBAAcL,GAAG,CAACN,KAAlB;AAFD,WAAP;AAID;;AAED,WAAKO,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,mBACK,KAAKF,KAAL,CAAWG,QADhB;AAEEC,QAAAA,MAAM,EAAE;AAFV;AAID,KApCiD;AAAA;;AAGlDC,EAAAA,iBAAiB,GAAG;AAAA,UACVF,QADU,GACG,KAAKH,KADR,CACVG,QADU;AAElB,UAAMG,QAAQ,GAAGC,uBAAuB,CAACJ,QAAD,CAAxC;AAEAZ,IAAAA,UAAU,CAACiB,aAAX,CAAyBF,QAAzB,EAAmCG,IAAnC,CAAwCZ,KAAK,IAAI,KAAKa,QAAL,CAAc;AAAEb,MAAAA;AAAF,KAAd,CAAjD;AACD;;AAEDc,EAAAA,kBAAkB,CAACC,SAAD,EAAYC,SAAZ,EAAuB;AACvC,UAAMC,YAAY,GAAGP,uBAAuB,CAACK,SAAS,CAACT,QAAX,CAA5C;AACA,UAAMY,YAAY,GAAGR,uBAAuB,CAAC,KAAKP,KAAL,CAAWG,QAAZ,CAA5C,CAFuC,CAIvC;AACA;;AAEA,QAAIW,YAAY,KAAKC,YAArB,EAAmC;AACjCxB,MAAAA,UAAU,CACPiB,aADH,CACiBO,YADjB,EAEGN,IAFH,CAEQZ,KAAK,IAAI,KAAKa,QAAL,CAAc;AAAEb,QAAAA;AAAF,OAAd,CAFjB;AAGD;AACF;;AAgBDmB,EAAAA,MAAM,GAAG;AAAA,UACCnB,KADD,GACW,KAAKD,KADhB,CACCC,KADD;AAAA,UAECM,QAFD,GAEc,KAAKH,KAFnB,CAECG,QAFD;AAGP,UAAMc,UAAU,GAAGV,uBAAuB,CAACJ,QAAD,CAA1C;AACA,UAAMe,gBAAgB,GAAGC,oBAAoB,CAAC3B,UAAD,EAAayB,UAAb,CAA7C;AAEA,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBADF,EAEE,oBAAC,gBAAD;AACE,MAAA,OAAO,EAAEzB,UADX;AAEE,MAAA,KAAK,EAAE0B,gBAFT;AAGE,MAAA,QAAQ,EAAE,KAAKpB,oBAHjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,EAOE,oBAAC,WAAD;AAAa,MAAA,KAAK,EAAED,KAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAPF,CADF;AAWD;;AAvDiD","sourcesContent":["/* eslint-disable */\nimport React, { Component } from 'react';\nimport queryString from 'query-string';\nimport ArticleList from '../components/ArticleList';\nimport CategorySelector from '../components/CategorySelector';\nimport * as articleAPI from '../services/articles-api';\n\nconst categories = [\n  {\n    value: 'health',\n    label: 'Health',\n  },\n  {\n    value: 'technology',\n    label: 'Technology',\n  },\n  {\n    value: 'sports',\n    label: 'Sports',\n  },\n];\n\n\n\nexport default class ArticlesPage extends Component {\n  state = { items: [] };\n\n  componentDidMount() {\n    const { location } = this.props;\n    const category = getCategoryFromLocation(location);\n\n    articleAPI.fetchArticles(category).then(items => this.setState({ items }));\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const prevCategory = getCategoryFromLocation(prevProps.location);\n    const nextCategory = getCategoryFromLocation(this.props.location);\n\n    // console.log('prevCategory: ', prevCategory);\n    // console.log('nextCategory: ', nextCategory);\n\n    if (prevCategory !== nextCategory) {\n      articleAPI\n        .fetchArticles(nextCategory)\n        .then(items => this.setState({ items }));\n    }\n  }\n\n  handleCategoryChange = opt => {\n    if (opt) {\n      return this.props.history.push({\n        ...this.props.location,\n        search: `category=${opt.value}`,\n      });\n    }\n\n    this.props.history.push({\n      ...this.props.location,\n      search: '',\n    });\n  };\n\n  render() {\n    const { items } = this.state;\n    const { location } = this.props;\n    const qsCategory = getCategoryFromLocation(location);\n    const selectedCategory = getCategoryWithValue(categories, qsCategory);\n\n    return (\n      <div>\n        <h1>Articles Page</h1>\n        <CategorySelector\n          options={categories}\n          value={selectedCategory}\n          onChange={this.handleCategoryChange}\n        />\n        <ArticleList items={items} />\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}